# 比特币与区块链基本概念入门

## 比特币的历史
2008年，一位化名为中本聪的人，在一篇名为《比特币：一个点对点的电子现金系统》的论文中首先提出了比特币（[中文版白皮书](http://www.8btc.com/wiki/bitcoin-a-peer-to-peer-electronic-cash-system)）。简单说，比特币结合以前的多个数字货币发明，如B-money和HashCash，创建了一个完全去中心化的电子现金系统，不依赖于通货保障或是结算交易验证保障的中央权威。关键的创新是利用分布式计算系统（称为“工作量证明”算法）每隔10分钟进行一次的全网“选拔”，能够使去中心化的网络同步交易记录。这个能优雅的解决双重支付问题，即一个单一的货币单位可以使用两次。

为什么要去中心化，比特币创世区块里的信息已经给出了答案：The Times 03/Jan/2009 Chancellor on brink of second bailout for banks. 这条信息是当天泰晤士报头版的标题。

### 什么是双花问题
简单说就是小明手里有5块钱，但是利用各种技术手段买了2份5块钱的东西。比如时间差，比如自己画了一张假钞。假钞容易理解，时间差需要花点时间解释一下。比如在远古时代网上购物，发送汇款证明后商家发货。但是汇款有一个很长的时延，那么小明可以在等到商家发货后取消取款，然后再去另一个商户购物。运气好的话有可能四花五花都能完成。这里很重要的一点就是利用时间差来作恶，在分布式系统里这个问题尤其严重，下一节会专门讨论。淘宝当年为了解决这个问题成立了支付宝。但是中心化的中介机构可能带来另一个问题，就是卷钱跑路。

### 分布式系统处理双花问题的难点
对于分布式系统解决双花问题，由于消息传递存在时间差，并且没有中心化的中介机构进行协调，本质就是如何有效的解决一个[拜占庭将军问题](https://zh.wikipedia.org/zh-sg/%E6%8B%9C%E5%8D%A0%E5%BA%AD%E5%B0%86%E5%86%9B%E9%97%AE%E9%A2%98)。一般业内常用两阶段/三阶段提交协议，或者Paxos算法来解决这个问题，但是这些方案依然需要一些中心化的基础设施来参与协调解决。比特币系统把这个问题做了简化，通过工作量证明机制降低信息发送频率，大大减少了需要进行同步的信息数量。目前的每10分钟完成一次打包，可以等价看成将军派出一名信使，这样大家就有充足的时间达成共识，如果在规定时间内依然无法达成共识而有新的消息就来时，老的信息就宣布作废。

## 区块链核心技术

### 区块
本质上就是账本。利用区块记录曾经发生的交易。比特币的每个区块本质上是一系列交易的打包，而挖矿就是争夺打包的权利。注意，这里有个非常重要的概念，对于区块链上的用户来说，并没有类似于支付宝或微信钱包的余额概念！你到底有多少可用余额是必须通过历史账单计算产生。

### 链
TODO

### 交易
TODO

### 非对称加密机制
TODO

### merkel树
TODO

### 共识机制

PoW TODO

PoS TODO

其它 TODO

### 观念误区
TODO

## 挖矿与交易过程

### 挖矿
TODO

### 交易
TODO

## Token与链的关系
TODO
